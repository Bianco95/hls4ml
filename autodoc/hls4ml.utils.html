<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>hls4ml.utils package &mdash; hls4ml 0.8.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_contributors.css" />

  
    <link rel="shortcut icon" href="../_static/hls4ml_logo.svg"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hls4ml.writer package" href="hls4ml.writer.html" />
    <link rel="prev" title="hls4ml.report package" href="hls4ml.report.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html">
            
              <img src="../_static/hls4ml_logo_navbar.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.9.0.dev20+ga680af55
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status.html">Status and Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup and Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../details.html">Software Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flows.html">Optimizer Passes and Flows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command.html">Command Line Interface (deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Citation, Acknowledgments, and Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/hls-model.html">HLS Model Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/profiling.html">Profiling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/fifo_depth.html">FIFO Buffer Depth Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/extension.html">Extension API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/accelerator.html">VivadoAccelerator Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/model_optimization.html">Hardware-aware Optimization API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Autogenerated API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hls4ml.backends.html">hls4ml.backends package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.converters.html">hls4ml.converters package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.model.html">hls4ml.model package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.optimization.html">hls4ml.optimization package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.report.html">hls4ml.report package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">hls4ml.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-hls4ml.utils.config">hls4ml.utils.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-hls4ml.utils.example_models">hls4ml.utils.example_models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-hls4ml.utils.fixed_point_utils">hls4ml.utils.fixed_point_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-hls4ml.utils.plot">hls4ml.utils.plot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-hls4ml.utils.string_utils">hls4ml.utils.string_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-hls4ml.utils.symbolic_utils">hls4ml.utils.symbolic_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-hls4ml.utils">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.writer.html">hls4ml.writer package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hls4ml</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">hls4ml.utils package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/fastmachinelearning/hls4ml/blob/main/docs/autodoc/hls4ml.utils.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="hls4ml-utils-package">
<h1>hls4ml.utils package<a class="headerlink" href="#hls4ml-utils-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-hls4ml.utils.config">
<span id="hls4ml-utils-config-module"></span><h2>hls4ml.utils.config module<a class="headerlink" href="#module-hls4ml.utils.config" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.config.config_from_keras_model">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.config.</span></span><span class="sig-name descname"><span class="pre">config_from_keras_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fixed&lt;16,6&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_reuse_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.config.config_from_keras_model" title="Permalink to this definition"></a></dt>
<dd><p>Create an HLS conversion config given the Keras model.</p>
<p>This function serves as the initial step in creating the custom conversion configuration.
Users are advised to inspect the returned object to tweak the conversion configuration.
The return object can be passed as <cite>hls_config</cite> parameter to <cite>convert_from_keras_model</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – Keras model</p></li>
<li><p><strong>granularity</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Granularity of the created config. Defaults to ‘model’.
Can be set to ‘model’, ‘type’ and ‘name’.</p>
<p>Granularity can be used to generate a more verbose config that can be fine-tuned.
The default granularity (‘model’) will generate config keys that apply to the whole
model, so changes to the keys will affect the entire model. ‘type’ granularity will
generate config keys that affect all layers of a given type, while the ‘name’ granularity
will generate config keys for every layer separately, allowing for highly specific
configuration tweaks.</p>
</p></li>
<li><p><strong>backend</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the backend to use</p></li>
<li><p><strong>default_precision</strong> (<em>str</em><em>, </em><em>optional</em>) – Default precision to use. Defaults to ‘fixed&lt;16,6&gt;’.</p></li>
<li><p><strong>default_reuse_factor</strong> (<em>int</em><em>, </em><em>optional</em>) – Default reuse factor. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If Keras model has layers not supported by hls4ml.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The created config.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.config.config_from_onnx_model">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.config.</span></span><span class="sig-name descname"><span class="pre">config_from_onnx_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ap_fixed&lt;16,6&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_reuse_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.config.config_from_onnx_model" title="Permalink to this definition"></a></dt>
<dd><p>Create an HLS conversion config given the ONNX model.</p>
<p>This function serves as the initial step in creating the custom conversion configuration.
Users are advised to inspect the returned object to tweak the conversion configuration.
The return object can be passed as <cite>hls_config</cite> parameter to <cite>convert_from_onnx_model</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – ONNX model</p></li>
<li><p><strong>granularity</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Granularity of the created config. Defaults to ‘model’.
Can be set to ‘model’, ‘type’ and ‘layer’.</p>
<p>Granularity can be used to generate a more verbose config that can be fine-tuned.
The default granularity (‘model’) will generate config keys that apply to the whole
model, so changes to the keys will affect the entire model. ‘type’ granularity will
generate config keys that affect all layers of a given type, while the ‘name’ granularity
will generate config keys for every layer separately, allowing for highly specific
configuration tweaks.</p>
</p></li>
<li><p><strong>backend</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the backend to use</p></li>
<li><p><strong>default_precision</strong> (<em>str</em><em>, </em><em>optional</em>) – Default precision to use. Defaults to ‘fixed&lt;16,6&gt;’.</p></li>
<li><p><strong>default_reuse_factor</strong> (<em>int</em><em>, </em><em>optional</em>) – Default reuse factor. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If ONNX model has layers not supported by hls4ml.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The created config.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.config.config_from_pytorch_model">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.config.</span></span><span class="sig-name descname"><span class="pre">config_from_pytorch_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ap_fixed&lt;16,6&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_reuse_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs_channel_last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transpose_outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.config.config_from_pytorch_model" title="Permalink to this definition"></a></dt>
<dd><p>Create an HLS conversion config given the PyTorch model.</p>
<p>This function serves as the initial step in creating the custom conversion configuration.
Users are advised to inspect the returned object to tweak the conversion configuration.
The return object can be passed as <cite>hls_config</cite> parameter to <cite>convert_from_pytorch_model</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – PyTorch model</p></li>
<li><p><strong>granularity</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Granularity of the created config. Defaults to ‘model’.
Can be set to ‘model’, ‘type’ and ‘layer’.</p>
<p>Granularity can be used to generate a more verbose config that can be fine-tuned.
The default granularity (‘model’) will generate config keys that apply to the whole
model, so changes to the keys will affect the entire model. ‘type’ granularity will
generate config keys that affect all layers of a given type, while the ‘name’ granularity
will generate config keys for every layer separately, allowing for highly specific
configuration tweaks.</p>
</p></li>
<li><p><strong>backend</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the backend to use</p></li>
<li><p><strong>default_precision</strong> (<em>str</em><em>, </em><em>optional</em>) – Default precision to use. Defaults to ‘fixed&lt;16,6&gt;’.</p></li>
<li><p><strong>default_reuse_factor</strong> (<em>int</em><em>, </em><em>optional</em>) – Default reuse factor. Defaults to 1.</p></li>
<li><p><strong>inputs_channel_last</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set to ‘True’ if input to the model comes in format
‘channels_last’. Defaults to ‘False’. If False, inputs will be transposed internally.</p></li>
<li><p><strong>transpose_outputs</strong> (<em>bool</em><em>, </em><em>optional</em>) – Set to ‘False’ if the output should not be transposed from
channels_last into channels_first data format. Defaults to ‘False’. If False, outputs needs
to be transposed manually.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If PyTorch model has layers not supported by hls4ml.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The created config.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.config.create_config">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.config.</span></span><span class="sig-name descname"><span class="pre">create_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'my-hls-test'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'myproject'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Vivado'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1.0.0'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.config.create_config" title="Permalink to this definition"></a></dt>
<dd><p>Create an initial configuration to guide the conversion process.</p>
<p>The resulting configuration will contain general information about the project (like project name and output directory)
as well as the backend-specific configuration (part numbers, clocks etc). Extra arguments of this function will be
passed to the backend’s <code class="docutils literal notranslate"><span class="pre">create_initial_config</span></code>. For the possible list of arguments, check the documentation of each
backend.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_dir</strong> (<em>str</em><em>, </em><em>optional</em>) – The output directory to which the generated project will be written.
Defaults to ‘my-hls-test’.</p></li>
<li><p><strong>project_name</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the project, that will be used as a top-level function in HLS designs.
Defaults to ‘myproject’.</p></li>
<li><p><strong>backend</strong> (<em>str</em><em>, </em><em>optional</em>) – The backend to use. Defaults to ‘Vivado’.</p></li>
<li><p><strong>version</strong> (<em>str</em><em>, </em><em>optional</em>) – Optional string to version the generated project for backends that support it.
Defaults to ‘1.0.0’.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – Raised if unknown backend is specified.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The conversion configuration.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-hls4ml.utils.example_models">
<span id="hls4ml-utils-example-models-module"></span><h2>hls4ml.utils.example_models module<a class="headerlink" href="#module-hls4ml.utils.example_models" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.example_models.fetch_example_list">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.example_models.</span></span><span class="sig-name descname"><span class="pre">fetch_example_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.example_models.fetch_example_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.example_models.fetch_example_model">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.example_models.</span></span><span class="sig-name descname"><span class="pre">fetch_example_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Vivado'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.example_models.fetch_example_model" title="Permalink to this definition"></a></dt>
<dd><p>Download an example model (and example data &amp; configuration if available) from github repo to working directory,
and return the corresponding configuration:</p>
<p><a class="reference external" href="https://github.com/fastmachinelearning/example-models">https://github.com/fastmachinelearning/example-models</a></p>
<p>Use fetch_example_list() to see all the available models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_name</strong> (<em>str</em>) – Name of the example model in the repo. Example: fetch_example_model(‘KERAS_3layer.json’)</p></li>
<li><p><strong>backend</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the backend to use for model conversion.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary that stores the configuration to the model</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-hls4ml.utils.fixed_point_utils">
<span id="hls4ml-utils-fixed-point-utils-module"></span><h2>hls4ml.utils.fixed_point_utils module<a class="headerlink" href="#module-hls4ml.utils.fixed_point_utils" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.utils.fixed_point_utils.FixedPointEmulator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.utils.fixed_point_utils.</span></span><span class="sig-name descname"><span class="pre">FixedPointEmulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integer_bits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimal_bits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.fixed_point_utils.FixedPointEmulator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Default constructor
:param - N: Total number of bits in the fixed point number
:param - I: Integer bits in the fixed point number
:param - F = N-I: Fixed point bits in the number
:param - signed: True/False - If True, use 2’s complement when converting to float
:param - self.integer_bits: Bits corresponding to the integer part of the number
:param - self.decimal_bits: Bits corresponding to the decimal part of the number</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.utils.fixed_point_utils.FixedPointEmulator.exp_float">
<span class="sig-name descname"><span class="pre">exp_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig_figs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.fixed_point_utils.FixedPointEmulator.exp_float" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.utils.fixed_point_utils.FixedPointEmulator.inv_float">
<span class="sig-name descname"><span class="pre">inv_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig_figs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">12</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.fixed_point_utils.FixedPointEmulator.inv_float" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.utils.fixed_point_utils.FixedPointEmulator.set_msb_bits">
<span class="sig-name descname"><span class="pre">set_msb_bits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bits</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.fixed_point_utils.FixedPointEmulator.set_msb_bits" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.utils.fixed_point_utils.FixedPointEmulator.to_float">
<span class="sig-name descname"><span class="pre">to_float</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.fixed_point_utils.FixedPointEmulator.to_float" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.fixed_point_utils.ceil_log2">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.fixed_point_utils.</span></span><span class="sig-name descname"><span class="pre">ceil_log2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.fixed_point_utils.ceil_log2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.fixed_point_utils.uint_to_binary">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.fixed_point_utils.</span></span><span class="sig-name descname"><span class="pre">uint_to_binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.fixed_point_utils.uint_to_binary" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-hls4ml.utils.plot">
<span id="hls4ml-utils-plot-module"></span><h2>hls4ml.utils.plot module<a class="headerlink" href="#module-hls4ml.utils.plot" title="Permalink to this heading"></a></h2>
<p>Utilities related to model visualization.</p>
<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.plot.add_edge">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.plot.</span></span><span class="sig-name descname"><span class="pre">add_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.plot.add_edge" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.plot.check_pydot">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.plot.</span></span><span class="sig-name descname"><span class="pre">check_pydot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.plot.check_pydot" title="Permalink to this definition"></a></dt>
<dd><p>Returns True if PyDot and Graphviz are available.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.plot.model_to_dot">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.plot.</span></span><span class="sig-name descname"><span class="pre">model_to_dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_layer_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rankdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">96</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subgraph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.plot.model_to_dot" title="Permalink to this definition"></a></dt>
<dd><p>Convert a HLS model to dot format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – A HLS model instance.</p></li>
<li><p><strong>show_shapes</strong> – whether to display shape information.</p></li>
<li><p><strong>show_layer_names</strong> – whether to display layer names.</p></li>
<li><p><strong>show_precision</strong> – whether to display precision of layer’s variables.</p></li>
<li><p><strong>rankdir</strong> – <cite>rankdir</cite> argument passed to PyDot,
a string specifying the format of the plot:
‘TB’ creates a vertical plot;
‘LR’ creates a horizontal plot.</p></li>
<li><p><strong>dpi</strong> – Dots per inch.</p></li>
<li><p><strong>subgraph</strong> – whether to return a <cite>pydot.Cluster</cite> instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <cite>pydot.Dot</cite> instance representing the HLS model or
a <cite>pydot.Cluster</cite> instance representing nested model if
<cite>subgraph=True</cite>.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – if graphviz or pydot are not available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.plot.plot_model">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.plot.</span></span><span class="sig-name descname"><span class="pre">plot_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'model.png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_shapes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_layer_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rankdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'TB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">96</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.plot.plot_model" title="Permalink to this definition"></a></dt>
<dd><p>Converts a HLS model to dot format and save to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – A HLS model instance</p></li>
<li><p><strong>to_file</strong> – File name of the plot image.</p></li>
<li><p><strong>show_shapes</strong> – whether to display shape information.</p></li>
<li><p><strong>show_layer_names</strong> – whether to display layer names.</p></li>
<li><p><strong>show_precision</strong> – whether to display precision of layer’s variables.</p></li>
<li><p><strong>rankdir</strong> – <cite>rankdir</cite> argument passed to PyDot,
a string specifying the format of the plot:
‘TB’ creates a vertical plot;
‘LR’ creates a horizontal plot.</p></li>
<li><p><strong>dpi</strong> – Dots per inch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Jupyter notebook Image object if Jupyter is installed.
This enables in-line display of the model plots in notebooks.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-hls4ml.utils.string_utils">
<span id="hls4ml-utils-string-utils-module"></span><h2>hls4ml.utils.string_utils module<a class="headerlink" href="#module-hls4ml.utils.string_utils" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.string_utils.convert_to_pascal_case">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.string_utils.</span></span><span class="sig-name descname"><span class="pre">convert_to_pascal_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snake_case</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.string_utils.convert_to_pascal_case" title="Permalink to this definition"></a></dt>
<dd><p>Convert string in snake_case to PascalCase</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>snake_case</strong> (<em>str</em>) – string to convert</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>converted string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.string_utils.convert_to_snake_case">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.string_utils.</span></span><span class="sig-name descname"><span class="pre">convert_to_snake_case</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pascal_case</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.string_utils.convert_to_snake_case" title="Permalink to this definition"></a></dt>
<dd><p>Convert string in PascalCase to snake_case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pascal_case</strong> (<em>str</em>) – string to convert</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>converted string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-hls4ml.utils.symbolic_utils">
<span id="hls4ml-utils-symbolic-utils-module"></span><h2>hls4ml.utils.symbolic_utils module<a class="headerlink" href="#module-hls4ml.utils.symbolic_utils" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.utils.symbolic_utils.LUTFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.utils.symbolic_utils.</span></span><span class="sig-name descname"><span class="pre">LUTFunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">math_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">range_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.symbolic_utils.LUTFunction" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.symbolic_utils.generate_operator_complexity">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.symbolic_utils.</span></span><span class="sig-name descname"><span class="pre">generate_operator_complexity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">part</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unary_operators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binary_operators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hls_include_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hls_libs_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.symbolic_utils.generate_operator_complexity" title="Permalink to this definition"></a></dt>
<dd><p>Generates HLS projects and synthesizes them to obtain operator complexity (clock cycles per given math operation).</p>
<p>This function can be used to obtain a list of operator complexity for a given FPGA part at a given precision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>part</strong> (<em>str</em>) – FPGA part number to use.</p></li>
<li><p><strong>precision</strong> (<em>str</em>) – Precision to use.</p></li>
<li><p><strong>unary_operators</strong> (<em>list</em><em>, </em><em>optional</em>) – List of unary operators to evaluate. Defaults to None.</p></li>
<li><p><strong>binary_operators</strong> (<em>list</em><em>, </em><em>optional</em>) – List of binary operators to evaluate. Defaults to None.</p></li>
<li><p><strong>hls_include_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the HLS include files. Defaults to None.</p></li>
<li><p><strong>hls_libs_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the HLS libs. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of obtained operator complexities.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.symbolic_utils.init_pysr_lut_functions">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.symbolic_utils.</span></span><span class="sig-name descname"><span class="pre">init_pysr_lut_functions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init_defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.symbolic_utils.init_pysr_lut_functions" title="Permalink to this definition"></a></dt>
<dd><p>Register LUT-based approximations with PySR.</p>
<p>Functions should be in the form of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">func_name</span><span class="o">&gt;</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">math_lut</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">N</span><span class="o">=&lt;</span><span class="n">table_size</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">range_start</span><span class="o">=&lt;</span><span class="n">start</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">range_end</span><span class="o">=&lt;</span><span class="n">end</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;func_name&gt;</span></code> is a given name that can be used with PySR, <code class="docutils literal notranslate"><span class="pre">&lt;func&gt;</span></code> is the math function to approximate
(<cite>sin</cite>, <cite>cos</cite>, <cite>log</cite>,…), <code class="docutils literal notranslate"><span class="pre">&lt;table_size&gt;</span></code> is the size of the lookup table, and <code class="docutils literal notranslate"><span class="pre">&lt;start&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;end&gt;</span></code> are the
ranges in which the function will be approximated. It is <strong>strongly</strong> recommended to use a power-of-two as a range.</p>
<p>Registered functions can be passed by name to <code class="docutils literal notranslate"><span class="pre">PySRRegressor</span></code> (as <code class="docutils literal notranslate"><span class="pre">unary_operators</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>init_defaults</strong> (<em>bool</em><em>, </em><em>optional</em>) – Register the most frequently used functions (sin, cos, tan, log, exp).
Defaults to False.</p></li>
<li><p><strong>function_definitions</strong> (<em>list</em><em>, </em><em>optional</em>) – List of strings with function definitions to register with PySR.
Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.utils.symbolic_utils.register_pysr_lut_function">
<span class="sig-prename descclassname"><span class="pre">hls4ml.utils.symbolic_utils.</span></span><span class="sig-name descname"><span class="pre">register_pysr_lut_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">julia_main</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.utils.symbolic_utils.register_pysr_lut_function" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-hls4ml.utils">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-hls4ml.utils" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hls4ml.report.html" class="btn btn-neutral float-left" title="hls4ml.report package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="hls4ml.writer.html" class="btn btn-neutral float-right" title="hls4ml.writer package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Fast Machine Learning Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
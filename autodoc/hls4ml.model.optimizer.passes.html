<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>hls4ml.model.optimizer.passes package &mdash; hls4ml 0.7.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx_contributors.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/hls4ml_logo.svg"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hls4ml.report package" href="hls4ml.report.html" />
    <link rel="prev" title="hls4ml.model.optimizer package" href="hls4ml.model.optimizer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html">
            
              <img src="../_static/hls4ml_logo_navbar.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.8.0.dev46+gb67e730d
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../status.html">Status and Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup and Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../details.html">Software Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flows.html">Optimizer Passes and Flows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../command.html">Command Line Interface (deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Citation and Contributors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quick API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/hls-model.html">HLS Model Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/profiling.html">Profiling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/fifo_depth.html">FIFO Buffer Depth Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/extension.html">Extension API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/accelerator.html">VivadoAccelerator Backend</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Autogenerated API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hls4ml.backends.html">hls4ml.backends package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.converters.html">hls4ml.converters package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="hls4ml.model.html">hls4ml.model package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hls4ml.model.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="hls4ml.model.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="hls4ml.model.html#module-hls4ml.model.attributes">hls4ml.model.attributes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hls4ml.model.html#module-hls4ml.model.graph">hls4ml.model.graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hls4ml.model.html#module-hls4ml.model.layers">hls4ml.model.layers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hls4ml.model.html#module-hls4ml.model.profiling">hls4ml.model.profiling module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hls4ml.model.html#module-hls4ml.model.types">hls4ml.model.types module</a></li>
<li class="toctree-l2"><a class="reference internal" href="hls4ml.model.html#module-hls4ml.model">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.report.html">hls4ml.report package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.utils.html">hls4ml.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="hls4ml.writer.html">hls4ml.writer package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hls4ml</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="hls4ml.model.html">hls4ml.model package</a></li>
          <li class="breadcrumb-item"><a href="hls4ml.model.optimizer.html">hls4ml.model.optimizer package</a></li>
      <li class="breadcrumb-item active">hls4ml.model.optimizer.passes package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/fastmachinelearning/hls4ml/blob/main/docs/autodoc/hls4ml.model.optimizer.passes.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="hls4ml-model-optimizer-passes-package">
<h1>hls4ml.model.optimizer.passes package<a class="headerlink" href="#hls4ml-model-optimizer-passes-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-hls4ml.model.optimizer.passes.bn_fuse">
<span id="hls4ml-model-optimizer-passes-bn-fuse-module"></span><h2>hls4ml.model.optimizer.passes.bn_fuse module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.bn_fuse" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.bn_fuse.FuseBatchNormalization">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.bn_fuse.</span></span><span class="sig-name descname"><span class="pre">FuseBatchNormalization</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.bn_fuse.FuseBatchNormalization" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.bn_fuse.FuseBatchNormalization.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.bn_fuse.FuseBatchNormalization.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.bn_fuse.FuseBatchNormalization.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.bn_fuse.FuseBatchNormalization.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.convert_to_channels_last">
<span id="hls4ml-model-optimizer-passes-convert-to-channels-last-module"></span><h2>hls4ml.model.optimizer.passes.convert_to_channels_last module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.convert_to_channels_last" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.convert_to_channels_last.ChannelsLastConverter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.convert_to_channels_last.</span></span><span class="sig-name descname"><span class="pre">ChannelsLastConverter</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.convert_to_channels_last.ChannelsLastConverter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<p>Converts a model from channels_first to channels_last data format by transposing the weights of relevant layers
and adding a transpose layer for the inputs and outputs, if necessary</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.convert_to_channels_last.ChannelsLastConverter.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.convert_to_channels_last.ChannelsLastConverter.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.convert_to_channels_last.ChannelsLastConverter.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.convert_to_channels_last.ChannelsLastConverter.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.expand_layer_group">
<span id="hls4ml-model-optimizer-passes-expand-layer-group-module"></span><h2>hls4ml.model.optimizer.passes.expand_layer_group module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.expand_layer_group" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.expand_layer_group.ExpandLayerGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.expand_layer_group.</span></span><span class="sig-name descname"><span class="pre">ExpandLayerGroup</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.expand_layer_group.ExpandLayerGroup" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<p>Expands LayerGroup (a nested model) into the parent model.</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.expand_layer_group.ExpandLayerGroup.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.expand_layer_group.ExpandLayerGroup.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.expand_layer_group.ExpandLayerGroup.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.expand_layer_group.ExpandLayerGroup.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.fuse_biasadd">
<span id="hls4ml-model-optimizer-passes-fuse-biasadd-module"></span><h2>hls4ml.model.optimizer.passes.fuse_biasadd module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.fuse_biasadd" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.fuse_biasadd.FuseBiasAdd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.fuse_biasadd.</span></span><span class="sig-name descname"><span class="pre">FuseBiasAdd</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.fuse_biasadd.FuseBiasAdd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<p>Fuses BiasAdd into Dense/Conv2D layer (common in TF models).</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.fuse_biasadd.FuseBiasAdd.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.fuse_biasadd.FuseBiasAdd.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.fuse_biasadd.FuseBiasAdd.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.fuse_biasadd.FuseBiasAdd.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.multi_dense">
<span id="hls4ml-model-optimizer-passes-multi-dense-module"></span><h2>hls4ml.model.optimizer.passes.multi_dense module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.multi_dense" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.multi_dense.ReplaceMultidimensionalDenseWithConv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.multi_dense.</span></span><span class="sig-name descname"><span class="pre">ReplaceMultidimensionalDenseWithConv</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.multi_dense.ReplaceMultidimensionalDenseWithConv" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.multi_dense.ReplaceMultidimensionalDenseWithConv.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.multi_dense.ReplaceMultidimensionalDenseWithConv.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.multi_dense.ReplaceMultidimensionalDenseWithConv.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.multi_dense.ReplaceMultidimensionalDenseWithConv.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.nop">
<span id="hls4ml-model-optimizer-passes-nop-module"></span><h2>hls4ml.model.optimizer.passes.nop module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.nop" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.nop.EliminateLinearActivation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.nop.</span></span><span class="sig-name descname"><span class="pre">EliminateLinearActivation</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.nop.EliminateLinearActivation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.nop.EliminateLinearActivation.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.nop.EliminateLinearActivation.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.nop.EliminateLinearActivation.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.nop.EliminateLinearActivation.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.precision_merge">
<span id="hls4ml-model-optimizer-passes-precision-merge-module"></span><h2>hls4ml.model.optimizer.passes.precision_merge module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.precision_merge" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.precision_merge.SetPrecisionConcat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.precision_merge.</span></span><span class="sig-name descname"><span class="pre">SetPrecisionConcat</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.precision_merge.SetPrecisionConcat" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.precision_merge.SetPrecisionConcat.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.precision_merge.SetPrecisionConcat.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.precision_merge.SetPrecisionConcat.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.precision_merge.SetPrecisionConcat.transform" title="Permalink to this definition"></a></dt>
<dd><p>Set concat output precision</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.precision_merge.get_concat_type">
<span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.precision_merge.</span></span><span class="sig-name descname"><span class="pre">get_concat_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">itype1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itype2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.precision_merge.get_concat_type" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.qkeras">
<span id="hls4ml-model-optimizer-passes-qkeras-module"></span><h2>hls4ml.model.optimizer.passes.qkeras module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.qkeras" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.ApplyAlpha">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.qkeras.</span></span><span class="sig-name descname"><span class="pre">ApplyAlpha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attributes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.ApplyAlpha" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.BatchNormalization" title="hls4ml.model.layers.BatchNormalization"><code class="xref py py-class docutils literal notranslate"><span class="pre">BatchNormalization</span></code></a></p>
<p>A custom layer to scale the output of a QDense layer which used ‘alpha != 1’
Inference computation uses BatchNormalization methods</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.ApplyAlpha.add_bias">
<span class="sig-name descname"><span class="pre">add_bias</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bias</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.ApplyAlpha.add_bias" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.ApplyAlpha.add_weights">
<span class="sig-name descname"><span class="pre">add_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantizer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.ApplyAlpha.add_weights" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.ApplyAlpha.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.ApplyAlpha.initialize" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.ExtractTernaryThreshold">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.qkeras.</span></span><span class="sig-name descname"><span class="pre">ExtractTernaryThreshold</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.ExtractTernaryThreshold" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<p>The input value (threshold) at which the output of a a ternary activation
changes is configurable. This pass extracts that threshold point, inserting
a BatchNormalization layer to execute the scaling. That BatchNormalization
layer is then expected to be fused into a BatchNormalizationQuantizedTanh
layer configured with the correct threshold.</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.ExtractTernaryThreshold.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.ExtractTernaryThreshold.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.ExtractTernaryThreshold.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.ExtractTernaryThreshold.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.FuseConsecutiveBatchNormalization">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.qkeras.</span></span><span class="sig-name descname"><span class="pre">FuseConsecutiveBatchNormalization</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.FuseConsecutiveBatchNormalization" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<p>OptimizerPass to merge consecutive BatchNormalization layers.
These may exist in a model after QKerasFactorizeAlpha layer.
Scale and Bias of each layer are combined into scale and bias of a single layer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.FuseConsecutiveBatchNormalization.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.FuseConsecutiveBatchNormalization.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.FuseConsecutiveBatchNormalization.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.FuseConsecutiveBatchNormalization.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.qkeras.</span></span><span class="sig-name descname"><span class="pre">OutputRoundingSaturationMode</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.ConfigurableOptimizerPass" title="hls4ml.model.optimizer.optimizer.ConfigurableOptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigurableOptimizerPass</span></code></a></p>
<p>Set the Rounding and Saturation mode of the output (and accumulator, if applicable)
of the layers specific in layer list.
The layer list is empty by default.
To specify which layer to apply this pass to, perform e.g.:
hls4ml.model.optimizer.get_optimizer(‘output_rounding_saturation_mode’).configure(layers=[‘Dense’, ‘Activation’])
The Rounding and Saturation modes are ‘None’ by default (so use the compiler defaults)
To set which mode to use:
hls4ml.model.optimizer.get_optimizer(‘output_rounding_saturation_mode’).configure(rounding_mode=’AP_RND_CONV’)
hls4ml.model.optimizer.get_optimizer(‘output_rounding_saturation_mode’).configure(saturation_mode=’AP_SAT’)</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode.precision_string_modify">
<span class="sig-name descname"><span class="pre">precision_string_modify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pstr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode.precision_string_modify" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.OutputRoundingSaturationMode.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.QKerasFactorizeAlpha">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.qkeras.</span></span><span class="sig-name descname"><span class="pre">QKerasFactorizeAlpha</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.QKerasFactorizeAlpha" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<p>OptimizerPass for extracting alpha “scale” from QKeras quantized layer.
The weights of the Q{Dense, Conv} layer are scaled to the common data type,
and an ‘ApplyAlpha’ layer is inserted to reapply the scale.</p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.QKerasFactorizeAlpha.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.QKerasFactorizeAlpha.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.QKerasFactorizeAlpha.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.QKerasFactorizeAlpha.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.qkeras.register_qkeras">
<span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.qkeras.</span></span><span class="sig-name descname"><span class="pre">register_qkeras</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.qkeras.register_qkeras" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.stamp">
<span id="hls4ml-model-optimizer-passes-stamp-module"></span><h2>hls4ml.model.optimizer.passes.stamp module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.stamp" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.stamp.MakeStamp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.stamp.</span></span><span class="sig-name descname"><span class="pre">MakeStamp</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.stamp.MakeStamp" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.ModelOptimizerPass" title="hls4ml.model.optimizer.optimizer.ModelOptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelOptimizerPass</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.stamp.MakeStamp.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.stamp.MakeStamp.transform" title="Permalink to this definition"></a></dt>
<dd><p>Transformation to apply if matching was successful.</p>
<p>Transform should return a boolean value indicating if the model graph was altered (by adding/removing nodes).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.graph.ModelGraph" title="hls4ml.model.graph.ModelGraph"><em>ModelGraph</em></a>) – Model to optimize</p></li>
<li><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – The matched node in the model graph.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes.transpose_opt">
<span id="hls4ml-model-optimizer-passes-transpose-opt-module"></span><h2>hls4ml.model.optimizer.passes.transpose_opt module<a class="headerlink" href="#module-hls4ml.model.optimizer.passes.transpose_opt" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.transpose_opt.RemoveUselessTranspose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hls4ml.model.optimizer.passes.transpose_opt.</span></span><span class="sig-name descname"><span class="pre">RemoveUselessTranspose</span></span><a class="headerlink" href="#hls4ml.model.optimizer.passes.transpose_opt.RemoveUselessTranspose" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="hls4ml.model.optimizer.html#hls4ml.model.optimizer.optimizer.OptimizerPass" title="hls4ml.model.optimizer.optimizer.OptimizerPass"><code class="xref py py-class docutils literal notranslate"><span class="pre">OptimizerPass</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.transpose_opt.RemoveUselessTranspose.match">
<span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.transpose_opt.RemoveUselessTranspose.match" title="Permalink to this definition"></a></dt>
<dd><p>Predicate to match on a given node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="hls4ml.model.html#hls4ml.model.layers.Layer" title="hls4ml.model.layers.Layer"><em>Layer</em></a>) – Node in the model graph to try matching the optimizer on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="hls4ml.model.optimizer.passes.transpose_opt.RemoveUselessTranspose.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hls4ml.model.optimizer.passes.transpose_opt.RemoveUselessTranspose.transform" title="Permalink to this definition"></a></dt>
<dd><p>Remove a transpose layer if it doesn’t do anything. i.e 1D input and perm = [0]</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-hls4ml.model.optimizer.passes">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-hls4ml.model.optimizer.passes" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hls4ml.model.optimizer.html" class="btn btn-neutral float-left" title="hls4ml.model.optimizer package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="hls4ml.report.html" class="btn btn-neutral float-right" title="hls4ml.report package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Fast Machine Learning Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>